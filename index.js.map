{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhoto = (query) => {\n  const searchParams = new URLSearchParams({\n    key : '48288328-1d3de9be04bab144528bc8ac3',\n    q : query,\n    image_type : 'photo',\n    orientation : 'horizontal',\n    safesearch : true,\n    per_page : 12,\n  });\n  \n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};","export const createGalleryElement = ({\n  webformatURL: smallImg,\n  largeImageURL: largeImg,\n  tags: alt,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `<li class=\"gallery-item\">\n       <a class=\"gallery-link\" href=${largeImg}>\n         <img\n          class=\"gallery-image\"\n          src=${smallImg}\n          alt=${alt}\n         />\n        </a>\n        <ul class=\"info-list\">\n           <li class=\"info-list-item\">\n             <span class=\"info-list-item-title\">Likes</span>\n             <span class=\"info-list-item-data\">${likes}</span>\n           </li>\n           <li class=\"info-list-item\">\n             <span class=\"info-list-item-title\">Views</span>\n             <span class=\"info-list-item-data\">${views}</span>\n           </li>\n           <li class=\"info-list-item\">\n             <span class=\"info-list-item-title\">Comments</span>\n             <span class=\"info-list-item-data\">${comments}</span>\n           </li>\n           <li class=\"info-list-item\">\n             <span class=\"info-list-item-title\">Downloads</span>\n             <span class=\"info-list-item-data\">${downloads}</span>\n           </li>\n         </ul>\n     </li>`;\n};\n\nexport const createLoader = () => {\n  const loaderEl = document.createElement('p');\n  loaderEl.classList.add('loader');\n  loaderEl.innerHTML = 'Loading images, please wait...</p>';\n  loaderEl.style.textAlign = 'center';\n  return loaderEl;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { fetchPhoto } from './js/pixabay-api';\nimport { createGalleryElement } from './js/render-functions';\nimport { createLoader } from './js/render-functions';\n\nconst formEL = document.querySelector('.form');\nconst galleryList = document.querySelector('.gallery');\nconst iziToastCommonOptions = { position: 'topRight',\n  messageSize: 20,};\nlet simplelightbox;\n\nconst createGallery = e => {\n  e.preventDefault();\n  const loaderEl = createLoader();\n  formEL.insertAdjacentElement('afterend', loaderEl);\n\n  const searchedThema = e.target.elements[0].value.trim();\n\n  if (searchedThema === '') {\n    iziToast.warning({\n      ...iziToastCommonOptions,\n      message: 'Input please the data',\n    });\n    loaderEl.remove();\n    return;\n  }\n\n  fetchPhoto(searchedThema)\n    .then(data => {\n      formEL.reset();\n      loaderEl.remove();\n      if (data.total === 0) {\n        iziToast.show({\n          ...iziToastCommonOptions,\n          message: `Sorry, there are no images matching your search query ${searchedThema}. Please try again!`,\n        });\n        galleryList.innerHTML = '';\n        return;\n      }\n      const galleryItems = data.hits\n        .map(el => createGalleryElement(el))\n        .join('');\n      galleryList.innerHTML = galleryItems;\n\n      simplelightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      simplelightbox.refresh();\n    })\n    .catch(err => {\n      iziToast.error({\n        ...iziToastCommonOptions,\n        message: err,\n      });\n    });\n};\n\nformEL.addEventListener('submit', createGallery);\n"],"names":["fetchPhoto","query","searchParams","response","createGalleryElement","smallImg","largeImg","alt","likes","views","comments","downloads","createLoader","loaderEl","formEL","galleryList","iziToastCommonOptions","simplelightbox","createGallery","e","searchedThema","iziToast","data","galleryItems","el","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAcC,GAAU,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAM,qCACN,EAAID,EACJ,WAAa,QACb,YAAc,aACd,WAAa,GACb,SAAW,EACf,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACtD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECjBaC,EAAuB,CAAC,CACnC,aAAcC,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA,sCAC6BL,CAAQ;AAAA;AAAA;AAAA,gBAG9BD,CAAQ;AAAA,gBACRE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAM8BC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iDAIRC,CAAS;AAAA;AAAA;AAAA,YAM7CC,EAAe,IAAM,CAChC,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3C,OAAAA,EAAS,UAAU,IAAI,QAAQ,EAC/BA,EAAS,UAAY,qCACrBA,EAAS,MAAM,UAAY,SACpBA,CACT,ECrCMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAwB,CAAE,SAAU,WACxC,YAAa,EAAE,EACjB,IAAIC,EAEJ,MAAMC,EAAgBC,GAAK,CACzBA,EAAE,eAAc,EAChB,MAAMN,EAAWD,IACjBE,EAAO,sBAAsB,WAAYD,CAAQ,EAEjD,MAAMO,EAAgBD,EAAE,OAAO,SAAS,CAAC,EAAE,MAAM,OAEjD,GAAIC,IAAkB,GAAI,CACxBC,EAAS,QAAQ,CACf,GAAGL,EACH,QAAS,uBACf,CAAK,EACDH,EAAS,OAAM,EACf,MACD,CAEDb,EAAWoB,CAAa,EACrB,KAAKE,GAAQ,CAGZ,GAFAR,EAAO,MAAK,EACZD,EAAS,OAAM,EACXS,EAAK,QAAU,EAAG,CACpBD,EAAS,KAAK,CACZ,GAAGL,EACH,QAAS,yDAAyDI,CAAa,qBACzF,CAAS,EACDL,EAAY,UAAY,GACxB,MACD,CACD,MAAMQ,EAAeD,EAAK,KACvB,IAAIE,GAAMpB,EAAqBoB,CAAE,CAAC,EAClC,KAAK,EAAE,EACVT,EAAY,UAAYQ,EAExBN,EAAiB,IAAIQ,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACDR,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMS,GAAO,CACZL,EAAS,MAAM,CACb,GAAGL,EACH,QAASU,CACjB,CAAO,CACP,CAAK,CACL,EAEAZ,EAAO,iBAAiB,SAAUI,CAAa"}